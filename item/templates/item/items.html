{% extends 'core/base.html' %} 
{% block title %}Browse Items{% endblock %} 
{%block content %}

<div class="p-6">
  <div class="grid grid-cols-4 gap-6 bg-gray-100 rounded-xl p-6">
    <div class="col-span-1">

      <!-- Search form-->
      <div class="bg-white rounded-xl p-4 mb-6">
        <form method="GET" action="{% url 'item:items' %}">
          <input
            name="query"
            type="text"
            placeholder="Search items here"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"
            value="{{ query }}" />
          <button
            class="mt-3 w-full py-3 px-4 text-lg bg-teal-500 hover:bg-teal-600 text-white rounded-lg transition-colors">
            Search
          </button>
        </form>
      </div>

      <!-- Categories section -->
      <div class="bg-white rounded-xl p-4 mb-6">
        <p class="font-semibold text-gray-800 mb-4">Categories</p>
        <ul class="space-y-2">
          {% for category in categories %}
          <li
            class="rounded-lg {% if category.id == category_id %} bg-gray-200 {% endif %}">
            <a
              href="{% url 'item:items' %}?query={{ query }}&category={{ category.id }}"
              class="block py-2 px-3 rounded-lg hover:bg-gray-100 transition-colors">
              {{ category.name }}
            </a>
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Clear filters section -->
      <div class="bg-white rounded-xl p-4">
        <p class="font-semibold text-gray-800 mb-4">Clear filters</p>
        <a
          href="{% url 'item:items' %}"
          class="inline-block w-full text-center py-3 px-4 bg-yellow-500 hover:bg-yellow-600 text-lg rounded-lg text-white transition-colors">
          Clear
        </a>
      </div>
    </div>

    <div class="col-span-3">
      <div class="grid grid-cols-3 gap-4">
        {% for item in items %}
        <div
          class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow">
          <a href="{% url 'item:detail' item.id %}">
            <div class="aspect-w-16 aspect-h-12">
              <img
                src="{{ item.image.url }}"
                class="w-full h-48 object-cover"/>
            </div>
            <div class="p-4">
              <h2 class="text-xl font-semibold text-gray-800 mb-2">
                {{ item.name }}
              </h2>
              <p class="text-gray-600">Price: {{ item.price }}</p>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
